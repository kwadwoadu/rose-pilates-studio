---
import { getLangFromUrl, useTranslations, useTranslatedPath } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
const currentYear = new Date().getFullYear();
---

<footer>
  <div class="max-w-3xl mx-auto px-6 pt-0 pb-12">
    <hr style="border-color: var(--color-border-light); border-top-width: 1px;" class="mb-12" />

    <!-- Brand name -->
    <p class="font-serif text-xl mb-8" style="color: var(--color-text);">Rose Pilates Studio</p>

    <!-- Nav links - horizontal -->
    <nav class="flex flex-wrap gap-x-6 gap-y-2 mb-4">
      <a href={translatePath('/#about')} class="text-sm link-underline" style="color: var(--color-text-muted);">{t('nav.about')}</a>
      <a href={translatePath('/#studio')} class="text-sm link-underline" style="color: var(--color-text-muted);">{t('nav.studio')}</a>
      <a href={translatePath('/#classes')} class="text-sm link-underline" style="color: var(--color-text-muted);">{t('nav.classes')}</a>
      <a href={translatePath('/#faq')} class="text-sm link-underline" style="color: var(--color-text-muted);">{t('nav.faq')}</a>
      <a href={translatePath('/#contact')} class="text-sm link-underline" style="color: var(--color-text-muted);">{t('nav.contact')}</a>
      <a href={translatePath('/booking')} class="text-sm link-underline" style="color: var(--color-text-muted);">{t('nav.book')}</a>
    </nav>

    <!-- Legal links - horizontal -->
    <nav class="flex flex-wrap gap-x-6 gap-y-2 mb-10">
      <a href={translatePath('/mentions-legales')} class="text-xs link-underline" style="color: var(--color-text-muted);">{t('footer.mentions')}</a>
      <a href={translatePath('/cgv')} class="text-xs link-underline" style="color: var(--color-text-muted);">{t('footer.cgv')}</a>
      <a href={translatePath('/waiver')} class="text-xs link-underline" style="color: var(--color-text-muted);">{t('footer.waiver')}</a>
    </nav>

    <!-- FPMP badge -->
    <img
      src="/images/fpmp-badge-2026.png"
      alt="FPMP Professional Badge 2026"
      class="h-12 w-auto mb-8"
      loading="lazy"
    />

    <!-- Copyright -->
    <p class="text-xs" style="color: var(--color-text-muted);">
      &copy; {currentYear} {t('footer.copyright')}
    </p>
  </div>
</footer>
