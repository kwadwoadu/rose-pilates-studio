---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section id="contact" class="section-padding">
  <div class="max-w-7xl mx-auto">
    <!-- Section Header -->
    <div class="text-center mb-12 scroll-animate">
      <div class="flex items-center justify-center gap-4 mb-6">
        <div class="w-16 h-px" style="background-color: var(--color-accent-rose); opacity: 0.3;"></div>
        <span class="text-sm tracking-widest uppercase" style="color: var(--color-accent-rose);">{t('contact.label')}</span>
        <div class="w-16 h-px" style="background-color: var(--color-accent-rose); opacity: 0.3;"></div>
      </div>
      <h2 class="text-3xl md:text-4xl">{t('contact.heading')}</h2>
    </div>

    <!-- Two column layout -->
    <div class="grid md:grid-cols-2 gap-12">
      <!-- Contact info -->
      <div class="scroll-animate-left">
        <div class="space-y-6">
          <!-- Email -->
          <a href="mailto:rorosey@icloud.com" class="flex items-start gap-4 group">
            <svg class="w-6 h-6 flex-shrink-0 mt-0.5" style="color: var(--color-accent-rose);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
            <div>
              <p class="font-medium" style="color: var(--color-text);">Email</p>
              <p class="group-hover:underline" style="color: var(--color-text-muted);">{t('contact.email')}</p>
            </div>
          </a>

          <!-- Phone -->
          <a href="tel:+33768266957" class="flex items-start gap-4 group">
            <svg class="w-6 h-6 flex-shrink-0 mt-0.5" style="color: var(--color-accent-rose);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
            </svg>
            <div>
              <p class="font-medium" style="color: var(--color-text);">{lang === 'fr' ? 'Telephone' : 'Phone'}</p>
              <p class="group-hover:underline" style="color: var(--color-text-muted);">{t('contact.phone')}</p>
            </div>
          </a>

          <!-- Address -->
          <div class="flex items-start gap-4">
            <svg class="w-6 h-6 flex-shrink-0 mt-0.5" style="color: var(--color-accent-rose);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
            <div>
              <p class="font-medium" style="color: var(--color-text);">{lang === 'fr' ? 'Adresse' : 'Address'}</p>
              <p style="color: var(--color-text-muted);">{t('contact.address')}</p>
            </div>
          </div>

          <!-- Languages -->
          <div class="flex items-start gap-4">
            <svg class="w-6 h-6 flex-shrink-0 mt-0.5" style="color: var(--color-accent-rose);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
            </svg>
            <div>
              <p class="font-medium" style="color: var(--color-text);">{lang === 'fr' ? 'Langues' : 'Languages'}</p>
              <p style="color: var(--color-text-muted);">{t('contact.languages')}</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Google Maps -->
      <div class="scroll-animate-right">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2829.1!2d-0.5876!3d44.8378!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd5527c0fb1c6d1b%3A0x0!2s236+Rue+Camille+Godard%2C+33000+Bordeaux!5e0!3m2!1sen!2sfr!4v1"
          width="100%"
          height="400"
          style="border:0; border-radius: 2px;"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          title="Rose Pilates Studio location"
        ></iframe>
      </div>
    </div>
  </div>
</section>
